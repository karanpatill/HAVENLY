<% layout("/layouts/Boilerplate") -%>
<body>
    <h1>Edit Post</h1>
    <form method="post" action="/listings/<%=list.id%>?_method=PUT" class="needs-validation" enctype="multipart/form-data" novalidate>
        
        <label for="title">Title</label>
        <input type="text" name="title" id="title" value="<%= list.title %>" class="form-control" required>
        <div class="valid-feedback">Looks good!</div>
        <div class="invalid-feedback">Please enter a title.</div>

        <label for="description">Description</label>
        <textarea name="description" id="description" class="form-control" required><%= list.description %></textarea>
        <div class="valid-feedback">Perfect!</div>
        <div class="invalid-feedback">Please enter a description.</div>

        <label for="price">Price</label>
        <input type="number" name="price" id="price" value="<%= list.price %>" class="form-control" required>
        <div class="valid-feedback">Valid price!</div>
        <div class="invalid-feedback">Please enter a valid price.</div>

        <label for="location">Location</label>
        <input type="text" name="location" id="location" value="<%= list.location %>" class="form-control" required>
        <div class="valid-feedback">Looks good!</div>
        <div class="invalid-feedback">Please enter a location.</div>

        <label for="country">Country</label>
        <input type="text" name="country" id="country" value="<%= list.country %>" class="form-control" required>
        <div class="valid-feedback">Nice choice!</div>
        <div class="invalid-feedback">Please enter a country name.</div>

        <div class = "prev-image">
            <h4>Previous Image</h4>
            <img src="<%= image %>" alt="<%= list.title %>" class="img-fluid" style="max-width: 200px; max-height: 200px;">
        </div>
        <br>

        <label for="image">Upload Image</label>
        <input type="file" name="image" id="image" class="form-control">
              <div class="valid-feedback">Filename looks good!</div>
              <div class="invalid-feedback">Please Choose a Image</div>
              <br>

        <button type="submit" class="">Update Listing</button>
    </form>
</body>
